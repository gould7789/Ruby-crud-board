<%# 1. 브라우저 탭 제목을 게시글 제목으로 설정 %>
<% content_for :title, @post.title %>

<%# 안내 메시지 %>
<p style="color: green"><%= notice %></p>

<%# 2. 전체 레이아웃 (가운데 정렬 + 너비 제한) %>
<%# row: 가로 줄 생성 %>
<%# justify-content-center: 내용을 화면 가운데로 모음 %>
<div class="row justify-content-center">

  <%# col-lg-8: 큰 화면에서 8칸 너비만 차지하게 함 (글 읽기 가장 편한 너비) %>
  <div class="col-lg-8">

    <%# 3. 상단 헤더 영역 (제목 + 목록 버튼) %>
    <%# d-flex ... : 제목과 버튼을 양끝으로 배치하고 높이 중앙 정렬 %>
    <div class="d-flex justify-content-between align-items-center mb-4">

      <%# 제목을 굵고 크게 표시 %>
      <%# text-break: 제목이 너무 길면 자동으로 줄바꿈 (박스를 뚫고 나가는 것을 방지) %>
      <h1 class="fw-bold text-break"><%= @post.title %></h1>

      <%# 목록으로 돌아가는 버튼 (회색 테두리) %>
      <%= link_to  "목록으로", posts_path, class:"btn btn-outline-secondary" %>
    </div>

    <%# 4. 본문 카드 영역 %>
    <%# card: 흰색 박스 배경 %>
    <%# shadow-sm: 살짝 그림자를 줘서 종이가 떠 있는 느낌 %>
    <div class="card shadow-sm mb-4">
      <div class="card-body p-4"> <%# (옵션) 작성일 표시 %>
        <%# text-muted: 글씨를 회색으로 연하게 처리 %>
        <div class="text-muted mb-3 d-flex justify-content-between">
          <span>작성자: 익명</span>

          <%# created_at.strftime: 날짜를 '년-월-일' 형식으로 예쁘게 변환 %>
          <span><%= @post.created_at.strftime("%Y-%m-%d %H:%M") %></span>
        </div>

        <hr>

        <%# 본문 내용 %>
        <%# py-3: 위아래(Padding Y-axis) 여백 3단계 %>
        <%# min-height: 글이 짧아도 최소 높이는 유지 (디자인이 깨지지 않게 ) %>
        <div class="py-3 text-break" style="min-height: 200px; font-size: 1.1rem; line-height: 1.6;">
          <%# simple_format: 엔터(\n)를 <br>태그로 바꿔서 줄바꿈 유지 %>
          <%= simple_format(@post.content) %>
        </div>
      </div>
    </div>

    <%# 5. 하단 버튼 영역 (수정 /삭제) %>
    <%# d-flex justify-content-end: 버튼들을 오른쪽 끝으로 보냄 %>
    <%# gap-2: 버튼 사이 간격 띄우기 %>
    <div class="d-d-flex justify-content-end gap-2">

      <%# 수정 버튼: 노란색(Warning) %>
      <%= link_to  "수정하기", edit_post_path(@post), class:"btn btn-warning px-4 fw-bold" %>

      <%# 삭제 버튼: 빨간색(Danger) + Turbo 기능 사용 %>
      <%= link_to @post, data: { turbo_method: :delete, turbo_confirm: "정말 삭제하시겠습니까?" }, 
      class: "btn btn-danger px-4 fw-bold" do %>
        삭제
      <% end %>
    </div>
  </div>
</div>